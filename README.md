# HR-аналитика: Прогнозирование удовлетворенности и увольнений сотрудников

## Описание проекта

Компания «Работа с заботой» занимается HR-аналитикой и помогает бизнесу оптимизировать управление персоналом. В рамках проекта решаются две ключевые задачи:

1. **Прогнозирование уровня удовлетворенности сотрудников** - построение модели для предсказания уровня удовлетворённости работой на основе исторических данных
2. **Прогнозирование увольнений сотрудников** - построение модели для предсказания вероятности ухода сотрудника из компании

## Бизнес-задачи

### Задача 1: Прогнозирование удовлетворенности
- **Целевая переменная:** `job_satisfaction_rate` (уровень удовлетворенности от 0 до 1)
- **Метрика качества:** SMAPE (Symmetric Mean Absolute Percentage Error)
- **Целевое значение:** SMAPE ≤ 15%

### Задача 2: Прогнозирование увольнений
- **Целевая переменная:** `quit` (бинарный признак увольнения)
- **Метрика качества:** ROC-AUC
- **Целевое значение:** ROC-AUC ≥ 0.91

## Данные

### Структура данных
- **Тренировочные данные:** 4000 записей
- **Тестовые данные:** 2000 записей

### Признаки:
- `id` - идентификатор сотрудника
- `dept` - отдел (sales, hr, technology, purchasing, marketing)
- `level` - уровень позиции (junior, middle, senior)
- `workload` - уровень загрузки (low, medium, high)
- `employment_years` - стаж работы в компании
- `last_year_promo` - наличие повышения в прошлом году
- `last_year_violations` - наличие нарушений в прошлом году
- `supervisor_evaluation` - оценка руководителя (1-5)
- `salary` - заработная плата
- `job_satisfaction_rate` - уровень удовлетворенности (задача 1)
- `quit` - факт увольнения (задача 2)

## Методология

### Предобработка данных
- Удаление дубликатов и обработка пропусков
- Исправление опечаток в категориальных признаках
- Создание пайплайнов для обработки различных типов признаков:
  - Числовые признаки: масштабирование StandardScaler
  - Бинарные признаки: OneHot Encoding
  - Упорядоченные категориальные: Ordinal Encoding
  - Неупорядоченные категориальные: OneHot Encoding

### Анализ данных (EDA)
- Анализ распределения целевых переменных
- Исследование корреляций между признаками (Phik)
- Анализ влияния категориальных признаков на увольнения
- Визуализация ключевых зависимостей

## Результаты

### Задача 1: Прогнозирование удовлетворенности

#### Сравнение моделей:

| Модель | SMAPE (CV) | SMAPE (тест) |
|--------|------------|--------------|
| Decision Tree | 14.86% | 13.65% |
| KNN | 15.50% | - |
| Ridge | 25.02% | - |
| Linear Regression | 25.03% | - |

#### Лучшая модель: Decision Tree Regressor
- **Параметры:** `max_depth=None`, `min_samples_split=10`
- **SMAPE на тесте:** 13.65% ✅
- **Улучшение относительно константной модели:** 24.57%

### Задача 2: Прогнозирование увольнений

#### Сравнение моделей:

| Модель | ROC-AUC (тест) |
|--------|----------------|
| Random Forest | 0.9302 |
| KNN | 0.9166 |
| Logistic Regression | 0.9044 |

#### Лучшая модель: Random Forest Classifier
- **Параметры:** `max_depth=10`, `min_samples_split=5`, `n_estimators=100`, `class_weight='balanced'`
- **ROC-AUC на тесте:** 0.9302 ✅
- **Улучшение относительно Dummy модели:** 0.4327

## Ключевые выводы

### Анализ данных
- Распределение стажа работы: 1-10 лет, медиана 3 года
- Оценки руководителей: преимущественно 3-4 балла
- Зарплаты: от 12k до 96k евро, с правыми выбросами
- Удовлетворенность: равномерное распределение со смещением вправо (медиана 0.56)
- Увольнения: 28% сотрудников уволились за период наблюдений

### Важные закономерности
1. **Сильные корреляции:**
   - Зарплата ↔ Уровень загрузки (0.79)
   - Удовлетворенность ↔ Оценка руководителя (0.76)
   - Уровень позиции ↔ Зарплата (0.72)

2. **Факторы увольнений:**
   - Низкая удовлетворенность работой
   - Маленький стаж работы в компании
   - Низкая зарплата
   - Плохие оценки руководителя

## Рекомендации для бизнеса

### Для повышения удовлетворенности:
1. **Улучшение оценки руководителей** - внедрение системы объективной оценки
2. **Карьерный рост** - создание прозрачной системы повышений
3. **Баланс нагрузки** - оптимизация распределения задач

### Для снижения увольнений:
1. **Повышение удовлетворенности** - работа с выявленными факторами
2. **Удержание опытных сотрудников** - программы лояльности для стажистов
3. **Конкурентные зарплаты** - мониторинг рыночных уровней оплаты
4. **Развитие junior-специалистов** - инвестиции в молодые таланты

### Технические рекомендации:
1. **Для MVP:** Использовать Decision Tree для удовлетворенности и Random Forest для увольнений
2. **Мониторинг:** Регулярное обновление моделей на новых данных
3. **Дополнительные данные:** Сбор информации о причинах увольнений, дополнительных benefits

## Используемые технологии

- **Python 3.9+**
- **Pandas, NumPy** - обработка данных
- **Scikit-learn** - ML модели и метрики
- **Matplotlib, Seaborn** - визуализация
- **Phik** - анализ корреляций
- **Jupyter Notebook** - интерактивная разработка

## Структура проекта
